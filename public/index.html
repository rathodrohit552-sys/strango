<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Strango — Free Stranger Chat India</title>

<style>
body{
margin:0;
background:#000;
color:#fff;
font-family:Arial;
overflow-x:hidden;
}

header{
text-align:center;
padding:18px 10px 6px;
}

h1{
margin:0;
font-size:28px;
}

.subtitle{
color:#bbb;
margin-top:6px;
}

/* FULLSCREEN CHAT */
.mainWrap{
display:flex;
flex-direction:column;
height:100dvh;
padding:0 14px;
box-sizing:border-box;
}

.chatBox{
flex:1;
background:#050505;
border-radius:14px;
border:1px solid #111;
padding:12px;
overflow-y:auto;
margin-top:10px;
}

.controls{
display:flex;
gap:10px;
margin-top:8px;
}

input{
flex:1;
padding:14px;
border-radius:12px;
border:none;
font-size:16px;
}

button{
border:none;
border-radius:12px;
padding:14px 18px;
font-size:15px;
cursor:pointer;
}

.sendBtn{
background:#00e68a;
color:#000;
}

.nextBtn{
background:#222;
color:#fff;
}

footer{
text-align:center;
padding:10px;
color:#00ffc8;
font-size:15px;
}

footer a{
color:#00ffc8;
text-decoration:none;
margin:0 4px;
}
</style>
</head>

<body>

<header>
<h1>Strango — Free Stranger Chat India</h1>
<div class="subtitle">Anonymous text chat without login. Meet strangers instantly.</div>
</header>

<div class="mainWrap">

<div id="status" style="color:#00ffc8;margin-top:10px;">Looking for stranger...</div>

<div id="chat" class="chatBox"></div>

<div class="controls">
<button class="nextBtn" onclick="next()">Next</button>
<input id="msg" placeholder="Type message...">
<button class="sendBtn" onclick="send()">Send</button>
</div>

<footer>
<a href="/privacy" target="_blank">Privacy</a> |
<a href="/terms" target="_blank">Terms</a> |
<a href="/safety" target="_blank">Safety</a> |
<a href="/about" target="_blank">About</a> |
<a href="/contact" target="_blank">Contact</a>
</footer>

</div>

<!-- SEO BELOW CHAT (UNCHANGED) -->
<section style="padding:40px 14px;">
<h2>Strango — Free Random Chat With Strangers Worldwide</h2>
<p>
Strango is a fast, lightweight anonymous chat platform similar to classic Omegle-style random chat systems,
built for instant global conversations without registration.
</p>
</section>

<script src="/socket.io/socket.io.js"></script>

<script>
const socket = io();

let isConnected=false;
let unread=0;
const baseTitle="Strango — Free Stranger Chat India";

const chat=document.getElementById("chat");
const status=document.getElementById("status");
const input=document.getElementById("msg");

function addMsg(t){
const div=document.createElement("div");
div.innerText=t;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function send(){
if(!isConnected) return;
const text=input.value.trim();
if(!text) return;

socket.emit("message",text);
addMsg("You: "+text);
input.value="";
}

input.addEventListener("keypress",e=>{
if(e.key==="Enter") send();
});

function next(){
socket.emit("next");
chat.innerHTML="";
status.innerText="Looking for stranger...";
isConnected=false;
}

socket.on("connectStranger",()=>{
isConnected=true;
status.innerText="Stranger connected";
});

socket.on("message",msg=>{
addMsg("Stranger: "+msg);

if(document.hidden){
unread++;
document.title="("+unread+") "+baseTitle;
}
});

document.addEventListener("visibilitychange",()=>{
if(!document.hidden){
unread=0;
document.title=baseTitle;
}
});
</script>

</body>
</html>
