<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
<title>EMI Calculator</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>

*{box-sizing:border-box;margin:0;padding:0}

body{
font-family:'Inter',sans-serif;
background:#000;
min-height:100vh;
display:flex;
justify-content:flex-start;
align-items:flex-start;
padding:40px;
color:white;
}

/* ⭐ HORIZONTAL LAYOUT */
.main{
display:flex;
gap:20px;
}

/* STRANGO CALCULATOR PANEL */
.wrapper{
width:360px;
padding:24px;
border-radius:12px;
background:linear-gradient(135deg,#3b1f14,#241008);
box-shadow:0 0 30px rgba(0,0,0,0.6);
position:relative;
}

/* ₹ ICON */
.rupeeBtn{
position:absolute;
top:-14px;
right:-14px;
background:#000;
border:2px solid #facc15;
color:#facc15;
font-weight:700;
padding:6px 10px;
border-radius:6px;
font-size:16px;
}

h2{
text-align:center;
font-size:22px;
margin-bottom:18px;
font-weight:700;
}

label{
font-size:13px;
font-weight:500;
}

input, select, textarea {
  font-size:16px !important;
}

input{
width:100%;
padding:10px;
margin-top:6px;
margin-bottom:14px;
border-radius:4px;
border:none;
background:#e5e5e5;
color:#000;
font-weight:600;
}

.calcBtn{
width:100%;
padding:12px;
background:#b77a2c;
color:white;
border:none;
border-radius:4px;
font-weight:600;
cursor:pointer;
margin-top:6px;
}

.resultBox{
margin-top:16px;
padding:14px;
border-radius:8px;
background:#000;
border:1px solid rgba(255,255,255,0.1);
}

.big{
font-size:24px;
font-weight:800;
color:#22c55e;
margin-top:6px;
}

/* ⭐ SIDE TABLE */
.tableBox{
width:340px;
background:#f3f4f6;
color:#111;
padding:16px;
border-radius:12px;
max-height:380px;
overflow:auto;
}

.tableHead{
display:flex;
justify-content:space-between;
font-weight:700;
font-size:14px;
border-bottom:1px solid #ccc;
padding-bottom:6px;
margin-bottom:6px;
}

.yearRow{
display:flex;
justify-content:space-between;
font-size:13px;
padding:6px 0;
border-bottom:1px solid #e2e2e2;
}
/* ✅ MOBILE FULL PAGE FIX */
body{
  margin:0;
  padding:16px;
}

.main{
  width:100%;
  max-width:520px;
  margin:auto;
}

/* ✅ STOP iOS AUTO ZOOM */
input, select, textarea {
  font-size:16px !important;
}
/* ✅ MOBILE STACK LAYOUT (FIX SQUEEZED TABLE) */
@media (max-width:768px){

  .main{
    display:block !important;
    padding:12px;
  }

  .calculator{
    width:100% !important;
    max-width:100% !important;
    margin-bottom:16px;
  }

  .tableBox{
    width:100% !important;
    max-width:100% !important;
    margin-top:12px;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
  }

}

</style>
</head>

<body>

<div class="main">

<!-- CALCULATOR -->
<div class="wrapper">

<div class="rupeeBtn">₹</div>

<h2>EMI Calculator</h2>

<label>Loan Amount (₹)</label>
<input id="loan" placeholder="e.g. 5,00,000">

<label>Interest Rate (% per year)</label>
<input id="rate" placeholder="e.g. 8.5">

<label>Loan Tenure (Years)</label>
<input id="years" placeholder="e.g. 10">

<button class="calcBtn" onclick="calculateEMI()">Calculate EMI</button>

<div class="resultBox">
<div>Monthly EMI</div>
<div class="big" id="emiResult">₹ 0</div>
<div id="extra" style="margin-top:6px;"></div>
</div>

</div>

<!-- SIDE TABLE -->
<div class="tableBox">

<div class="tableHead">
<span>Year</span>
<span>Principal</span>
<span>Interest</span>
</div>

<div id="yearChart"></div>

</div>

</div>

<script>

function formatINR(num){
return Number(num).toLocaleString("en-IN",{maximumFractionDigits:0});
}

function calculateEMI(){

let P=parseFloat(loan.value.replace(/,/g,'')); 
let annual=parseFloat(rate.value);
let Y=parseFloat(years.value);

if(!P||!annual||!Y)return;

let N=Y*12;
let R=annual/12/100;

let emi=(P*R*Math.pow(1+R,N))/(Math.pow(1+R,N)-1);
let total=emi*N;
let interest=total-P;

emiResult.innerHTML="₹ "+formatINR(emi.toFixed(0));

extra.innerHTML=
"Total Interest: ₹ "+formatINR(interest.toFixed(0))+
"<br>Total Payment: ₹ "+formatINR(total.toFixed(0));

let chartHTML="";
let balance=P;

for(let i=1;i<=Math.min(10,Y);i++){

let yearlyInterest=0;
let yearlyPrincipal=0;

for(let m=1;m<=12;m++){
let int=balance*R;
let princ=emi-int;
balance-=princ;

yearlyInterest+=int;
yearlyPrincipal+=princ;
}

chartHTML+=`
<div class="yearRow">
<span>Year ${i}</span>
<span>₹ ${formatINR(yearlyPrincipal)}</span>
<span>₹ ${formatINR(yearlyInterest)}</span>
</div>`;
}

yearChart.innerHTML=chartHTML;

}

</script>

</body>
</html>
